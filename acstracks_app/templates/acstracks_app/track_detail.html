{% extends 'acstracks_app/base.html' %}
{% load static %}

{% block content %}
    <table>
        <tr valign="Top">
            <td>
            <table>
                <tr>
                    <td valign="Top"><b>Intermediate points</b></td>
                    <td valign="Bottom" style="text-align:right">
                    <form method="post" enctype="multipart/form-data">
                        <input type="hidden" name="Order" value="{{ order_selected }}">
                        <input type="hidden" name="Profile" value="{{ profile_filter }}">
                        {% csrf_token %}
                        <select name="Intermediate_points" id="intermediate_points" onclick=this.form.submit()>
                            {% if intermediate_points_selected == 0 %}
                                <option value=0 selected="selected">none</option>
                            {% else %}
                                <option value=0>none</option>
                            {% endif %}
                            {% if intermediate_points_selected == 1 %}
                                <option value=1 selected="selected">every 1 km</option>
                            {% else %}
                                <option value=1>every 1 km</option>
                            {% endif %}
                            {% if intermediate_points_selected == 3 %}
                                <option value=3 selected="selected">every 3 km</option>
                            {% else %}
                                <option value=3>every 3 km</option>
                            {% endif %}
                            {% if intermediate_points_selected == 5 %}
                                <option value=5 selected="selected">every 5 km</option>
                            {% else %}
                                <option value=5>every 5 km</option>
                            {% endif %}
                            {% if intermediate_points_selected == 10 %}
                                <option value=10 selected="selected">every 10 km</option>
                            {% else %}
                                <option value=10>every 10 km</option>
                            {% endif %}
                        </select>
                    </form>   
                </td>
                </tr>
                <tr>
                    <td><b>Filename</b></td>
                    <td style="text-align:right">{{ atrack.displayfilename }}</td>
                </tr>
                <tr>
                    <td><b>Created date</b></td>
                    <td style="text-align:right">{{ atrack.created_date|date:"d b Y" }}</td>
                </tr>
                <tr>
                    <td><b>Name</td></b></td>
                    <td style="text-align:right">{{ atrack.name }}</td>
                </tr>
                <tr>
                    <td><b>Profile</b></td>
                    <td style="text-align:right">{{ atrack.profile }}</td>
                </tr>
                <tr>
                    <td><b>Length (km)</b></td>
                    <td  style="text-align:right">{{ atrack.length }}</td>
                </tr>
                <tr>
                    <td><b>Duration</b></td>
                    <td  style="text-align:right">{{ atrack.timelength|time:"H:i:s" }}</td>
                </tr>
                <tr>
                    <td><b>Average speed (km/h)</b></td>
                    <td style="text-align:right">{{ atrack.avgspeed }}</td>
                </tr>
                <tr>
                    <td><b>Maximum speed (km/h)</b></td>
                    <td style="text-align:right">{{ atrack.maxspeed }}</td>
                </tr>
                <tr>
                    <td><b>Total descent (m)</b></td>
                    <td style="text-align:right">{{ atrack.totaldescent }}</td>
                </tr>
                <tr>
                    <td><b>Total ascent (m)</b></td>
                    <td style="text-align:right">{{ atrack.totalascent }}</td>
                </tr>
                {% if atrack.avgcadence %}
                <tr>
                    <td><b>Average cadence</b></td>
                    <td style="text-align:right">{{ atrack.avgcadence }}</td>
                </tr>
                {% endif %}
                {% if atrack.maxcadence %}
                    <tr>
                        <td><b>Maximum cadence</b></td>
                        <td  style="text-align:right">{{ atrack.maxcadence }}</td>
                    </tr>
                {% endif %}
                <tr>
                    {% if atrack.avgheartrate %}
                    <td><b>Average heartrate</b></td>
                    <td  style="text-align:right">{{ atrack.avgheartrate }}</td>
                </tr>
                {% endif %}
                {% if atrack.minheartrate %}
                    <tr>
                        <td><b>Mininimum heartrate</b></td>
                        <td  style="text-align:right">{{ atrack.minheartrate }}</td>
                    </tr>
                {% endif %}
                {% if atrack.maxheartrate %}
                    <tr>
                        <td><b>Maximum heartrate</b></td>
                        <td  style="text-align:right">{{ atrack.maxheartrate }}</td>
                    </tr>
                {% endif %}
            </table>
        </td>
        <td>
            <iframe src={% static "./maps/map.html" %}  style="border:none;height:700px;width:1200px;" title="Track map"></iframe>
        </td>
    </tr>
</table><br><br>
{% endblock %}